coord_cartesian(ylim=c(30,50))
temp.usa <- subset(temp1,temp1$Country == "United States")
#pander(head(temp.usa))
which(temp.usa$Date == "1/1/90")
temp.usa <- temp.usa[-c(1:1080),]
temp.usa$Date <- as.Date(temp.usa$Date, format="%m/%d/%y")
temp.usa$Temp_F <- ((temp.usa$Monthly.AverageTemp * (9/5)) + 32)
head(temp.usa["Temp_F"])
#Average Land Temperatue by Year:
temp.usa$year <- substr(temp.usa$Date,1,4)
df.temp.usa <- do.call(data.frame,aggregate(Temp_F ~ year,data=temp.usa,FUN=mean))
df.temp.usa$year <- as.numeric(as.character(df.temp.usa$year))
#str(df.temp.usa$year)
#plot USA yearly avgerage temp
p <- ggplot(df.temp.usa) + geom_line(aes(x=year,y=Temp_F),stat='identity',lwd=1.0,colour="blue") + geom_point(aes(x=year,y=Temp_F), color="royalblue3", size = 2)
p + labs(title="USA Yearly Avg. Temperature" , x="Year", y="Temperature (F)") +
theme_bw() +  theme(panel.grid.major=element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=60,hjust=1),legend.position = "none") +
theme(plot.title=element_text(hjust=0.5))
install.packages("seq")
seq(1990,2005,1)
x<- seq(1990,2013,1)
x
x<- seq(1990,2013,1)
x[2]
x<-c()
x
x<-numeric()
x
x<-c(1,2,3,4)
length(x)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str<-date.char[i+1]-date.char[i]
}
return(date.char)
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.char[i]
}
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
print(date.char[i])
}
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
print(date.char[i+1])
}
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
print(date.char[i+1]-date.char[i])
}
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str<-paste0(date.char[i+1],"-",date.char[i])
}
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str<-paste0(date.char[i+1],"-",date.char[i])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i+1],"-",date.char[i])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2012,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.year.diff.year
temp.usa.year.diff <- df.temp.usa$Temp_F[2:24]-df.temp.usa$Temp_F[1:23]
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.year.diff.year
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.year.diff.year
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
date.str
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.year.diff.year
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
date.str
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
temp.usa.ydiff$Years2 <- as.integer(temp.usa.ydiff$Years)
p <- ggplot(temp.usa.ydiff) + geom_point(aes(x=Years,y=AvgTempDiff), size = 2, colour="royalblue3")
p + labs(title="Yearly Avg. Difference Temperature") +
theme_bw() +  theme(panel.grid.major=element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=60,hjust=1),legend.position = "none") +
theme(plot.title=element_text(hjust=0.5)) + geom_line(aes(x=Years2,y=AvgTempDiff),colour="Blue",lwd=1)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
temp.usa.ydiff$Years2 <- as.integer(temp.usa.ydiff$Years)
p <- ggplot(temp.usa.ydiff) + geom_point(aes(x=Years,y=AvgTempDiff), size = 2, colour="royalblue3")
p + labs(title="Yearly Avg. Difference Temperature") +
theme_bw() +  theme(panel.grid.major=element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=60,hjust=1),legend.position = "none") +
theme(plot.title=element_text(hjust=0.5)) + geom_line(aes(x=Years2,y=AvgTempDiff),colour="Blue",lwd=1)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
temp.usa.ydiff$Years2 <- as.integer(temp.usa.ydiff$Years)
p <- ggplot(temp.usa.ydiff) + geom_point(aes(x=Years,y=AvgTempDiff), size = 2, colour="royalblue3")
p + labs(title="Yearly Avg. Difference Temperature") +
theme_bw() +  theme(panel.grid.major=element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=60,hjust=1),legend.position = "none") +
theme(plot.title=element_text(hjust=0.5)) + geom_line(aes(x=Years2,y=AvgTempDiff),colour="Blue",lwd=1)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
temp.usa.ydiff$Years2 <- as.integer(temp.usa.ydiff$Years)
p <- ggplot(temp.usa.ydiff) + geom_point(aes(x=Years,y=AvgTempDiff), size = 2, colour="royalblue3")
p + labs(title="Yearly Avg. Difference Temperature") +
theme_bw() +  theme(panel.grid.major=element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=60,hjust=1),legend.position = "none") +
theme(plot.title=element_text(hjust=0.5)) + geom_line(aes(x=Years2,y=AvgTempDiff),colour="Blue",lwd=1)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
temp.usa.ydiff$Years2 <- as.integer(temp.usa.ydiff$Years)
p <- ggplot(temp.usa.ydiff) + geom_point(aes(x=Years,y=AvgTempDiff), size = 2, colour="royalblue3")
p + labs(title="Yearly Avg. Difference Temperature") +
theme_bw() +  theme(panel.grid.major=element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=60,hjust=1),legend.position = "none") +
theme(plot.title=element_text(hjust=0.5)) + geom_line(aes(x=Years2,y=AvgTempDiff),colour="Blue",lwd=1)
diff.year <- function(y){
date.char <- as.character(y)
date.str <- c()
for (i in 1:length(date.char)){
date.str[i]<-paste0(date.char[i],"-",date.char[i+1])
}
return(date.str)
}
one.year <- seq(1990,2013,1)
temp.usa.year.diff.year<- diff.year(one.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
temp.usa.year.diff.year[-length(temp.usa.year.diff.year)]
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
str(temp.usa.year.diff.year)
length(temp.usa.year.diff.year)
length(temp.usa.year.diff)
temp.usa.year.diff.year<-temp.usa.year.diff.year[-length(temp.usa.year.diff.year)]
length(temp.usa.year.diff.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
# Create a function that returns a character vector for the difference
# in years from 1990 to 2013
diff.year <- function(y){#pass the sequence of dates
date.char <- as.character(y) #convert dates to strings
date.str <- c() # initialize vector
for (i in 1:length(date.char)){#iterate from 1 to length of vector
date.str[i]<-paste0(date.char[i],"-",date.char[i+1]) #concat date(n) and date(n+1)
}# returns date: (i.e. 1990-1991,1992-1992,etc..)
return(date.str)
}
#Create new object calling the sequence method from the date class
one.year <- seq(1990,2013,1)
#call the diff.year function and pass the sequence
temp.usa.year.diff.year<- diff.year(one.year)
#Remove the last date: (i.e. NA-2013)
temp.usa.year.diff.year<-temp.usa.year.diff.year[-length(temp.usa.year.diff.year)]
length(temp.usa.year.diff.year)
temp.usa.ydiff <- data.frame(temp.usa.year.diff.year, temp.usa.year.diff)
colnames(temp.usa.ydiff) <- c("Years","AvgTempDiff")
temp.usa.ydiff$Years2 <- as.integer(temp.usa.ydiff$Years)
p <- ggplot(temp.usa.ydiff) + geom_point(aes(x=Years,y=AvgTempDiff), size = 2, colour="royalblue3")
p + labs(title="Yearly Avg. Difference Temperature") +
theme_bw() +  theme(panel.grid.major=element_blank(),panel.grid.minor = element_blank()) +
theme(axis.text.x=element_text(angle=60,hjust=1),legend.position = "none") +
theme(plot.title=element_text(hjust=0.5)) + geom_line(aes(x=Years2,y=AvgTempDiff),colour="Blue",lwd=1)
temp.usa.year.diff <- df.temp.usa$Temp_F[2:25]-df.temp.usa$Temp_F[1:23]
temp.usa.year.diff
temp.usa.year.diff <- df.temp.usa$Temp_F[2:25]-df.temp.usa$Temp_F[1:23]
length(temp.usa.year.diff)
temp.usa.year.diff <- df.temp.usa$Temp_F[2:25]-df.temp.usa$Temp_F[1:23]
temp.usa.year.diff <- df.temp.usa$Temp_F[2:25]-df.temp.usa$Temp_F[1:23]
temp.usa.year.dif <- df.temp.usa$Temp_F[2:25]-df.temp.usa$Temp_F[1:23]
max.two.year.diff <- function(df,col){
diff <- numeric()
for(i in 1:length(df$col)){
diff[i]<-df$col[i+2]-df$col
}
return(max(diff))
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
diff <- numeric()
for(i in 1:length(df$col)){
diff[i]<-df$col[i+2]-df$col
}
return(diff)
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
diff <- c()
for(i in 1:length(df$col)){
diff[i]<-df$col[i+2]-df$col
}
return(diff)
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
for(i in 1:length(df$col)){
diff<-df$col[i+2]-df$col
}
return(diff)
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
diff<-df$col[i+2]-df$col
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
for(i in 1:length(df$col)){
diff<-df$col[i+2]-df$col
}
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
for(i in 1:length(df$col)){
diff<-df$col[i+2]-df$col
}
print(diff)
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
print(df$col[2])
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
print(df)
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
print(df$col)
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df,col){
print(df$Temp+_F)
}
max.two.year.diff(df.temp.usa,Temp_F)
max.two.year.diff <- function(df.col){
print(df.col)
}
df.col<-df.temp.usa,Temp_F
max.two.year.diff(df.col)
df.col<-df.temp.usa,Temp_F
df.col<-df.temp.usa.Temp_F
df.col<-df.temp.usa$Temp_F
max.two.year.diff <- function(df.col){
print(df.col)
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col)
max.two.year.diff <- function(df.col,n){
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
return(diff)
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,2)
max.two.year.diff <- function(df.col,n){
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
return(max(diff))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,2)
max.two.year.diff <- function(df.col,n){
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
diff.max<-diff[1:(length(diff)-n)]
return(max(diff.max))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,2)
max.two.year.diff <- function(df.col,n){
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
diff.max<-diff[1:(length(diff)-n)]
sprintf("Max %s year difference in avg. yearly temp is: ",(n))
return(max(diff.max))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,2)
max.two.year.diff <- function(df.col,n){
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
diff.max<-diff[1:(length(diff)-n)]
print("The max %s year difference in avg. yearly temp is: ",(n))
return(max(diff.max))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,2)
max.two.year.diff <- function(df.col,n){
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
diff.max<-diff[1:(length(diff)-n)]
sprintf("The max %s year difference in avg. yearly temp is: ",(n))
return(max(diff.max))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,2)
sprintf("The max %s year difference in avg. yearly temp is: ",(n))
sprintf("The max %s year difference in avg. yearly temp is: ",n)
sprintf("The max %d year difference in avg. yearly temp is: ",n)
max.two.year.diff <- function(df.col,n){
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
diff.max<-diff[1:(length(diff)-n)]
sprintf("The max %d year difference in avg. yearly temp is: ",n)
return(max(diff.max))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,n=2)
sprintf("The max %s year difference in avg. yearly temp is: ",n)
max.two.year.diff <- function(df.col,n){
years=n
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
diff.max<-diff[1:(length(diff)-n)]
sprintf("The max %s year difference in avg. yearly temp is: ",years)
return(max(diff.max))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,n=2)
max.two.year.diff <- function(df.col,n){
years=
diff <- numeric()
for(i in 1:length(df.col)){
diff[i]<-df.col[i+n]-df.col[i]
}
diff.max<-diff[1:(length(diff)-n)]
print(paste0("The max ",n," year difference in avg. yearly temp is:"))
return(max(diff.max))
}
df.col<-df.temp.usa$Temp_F
max.two.year.diff(df.col,n=2)
